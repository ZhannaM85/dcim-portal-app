<div class="add-server-dialog">
    <div class="add-server-dialog__header">
        <h2 class="add-server-dialog__title">{{ 'ADD_SERVER.TITLE' | translate }}</h2>
        <button
            type="button"
            class="add-server-dialog__close"
            (click)="onCancel()"
            [attr.aria-label]="'ADD_SERVER.CLOSE_DIALOG' | translate">
            <kit-icon-close [size]="20"></kit-icon-close>
        </button>
    </div>

    <form [formGroup]="serverForm" (ngSubmit)="onSubmit()" class="add-server-dialog__form-wrapper">
        <div class="add-server-dialog__form">
            <div class="add-server-dialog__form-row">
                <kit-input
                    [label]="'COMMON.HOSTNAME' | translate"
                    formControlName="hostname"
                    [placeholder]="'SERVER_DETAIL.PLACEHOLDER.HOSTNAME' | translate"
                    [required]="true"
                    [error]="hostname?.touched && hostname?.invalid ? getErrorMessage('hostname') : ''">
                </kit-input>
            </div>

            <div class="add-server-dialog__form-row">
                <kit-input
                    [label]="'COMMON.IP_ADDRESS' | translate"
                    formControlName="ipAddress"
                    type="text"
                    [placeholder]="'SERVER_DETAIL.PLACEHOLDER.IP_ADDRESS' | translate"
                    [required]="true"
                    [error]="ipAddress?.touched && ipAddress?.invalid ? getErrorMessage('ipAddress') : ''">
                </kit-input>
            </div>

            <div class="add-server-dialog__form-row" role="group" aria-labelledby="location-label">
                <span id="location-label" class="form-label">
                    {{ 'COMMON.LOCATION' | translate }} <span class="form-label__required">*</span>
                </span>
                <kit-dropdown
                    [options]="locationOptions"
                    [placeholder]="'SERVER_DETAIL.PLACEHOLDER.SELECT_LOCATION' | translate"
                    [selectedValue]="location?.value"
                    (selectionChange)="location?.setValue($event)">
                </kit-dropdown>
                <span *ngIf="location?.touched && location?.invalid" class="form-error">
                    {{ getErrorMessage('location') }}
                </span>
            </div>

            <div class="add-server-dialog__form-row">
                <kit-input
                    [label]="'COMMON.OPERATING_SYSTEM' | translate"
                    formControlName="os"
                    [placeholder]="'SERVER_DETAIL.PLACEHOLDER.OS' | translate"
                    [required]="true"
                    [error]="os?.touched && os?.invalid ? getErrorMessage('os') : ''">
                </kit-input>
            </div>

            <div class="add-server-dialog__form-row" role="group" aria-labelledby="status-label">
                <span id="status-label" class="form-label">
                    {{ 'COMMON.STATUS' | translate }} <span class="form-label__required">*</span>
                </span>
                <kit-dropdown
                    [options]="statusOptions"
                    [placeholder]="'ADD_SERVER.SELECT_STATUS' | translate"
                    [selectedValue]="status?.value"
                    (selectionChange)="status?.setValue($event)">
                </kit-dropdown>
            </div>

            <div class="add-server-dialog__form-row add-server-dialog__form-row--inline">
                <div class="add-server-dialog__form-col">
                    <kit-input
                        [label]="'COMMON.CPU_CORES' | translate"
                        formControlName="cpuCores"
                        type="number"
                        [placeholder]="'SERVER_DETAIL.PLACEHOLDER.CPU_CORES' | translate"
                        [required]="true"
                        [error]="cpuCores?.touched && cpuCores?.invalid ? getErrorMessage('cpuCores') : ''">
                    </kit-input>
                </div>

                <div class="add-server-dialog__form-col">
                    <kit-input
                        [label]="'COMMON.RAM_GB' | translate"
                        formControlName="ramGb"
                        type="number"
                        [placeholder]="'SERVER_DETAIL.PLACEHOLDER.RAM' | translate"
                        [required]="true"
                        [error]="ramGb?.touched && ramGb?.invalid ? getErrorMessage('ramGb') : ''">
                    </kit-input>
                </div>

                <div class="add-server-dialog__form-col">
                    <kit-input
                        [label]="'COMMON.STORAGE_GB' | translate"
                        formControlName="storageGb"
                        type="number"
                        [placeholder]="'SERVER_DETAIL.PLACEHOLDER.STORAGE' | translate"
                        [required]="true"
                        [error]="storageGb?.touched && storageGb?.invalid ? getErrorMessage('storageGb') : ''">
                    </kit-input>
                </div>
            </div>
        </div>

        <div class="add-server-dialog__actions">
            <kit-button
                [label]="'COMMON.CANCEL' | translate"
                variant="secondary"
                type="button"
                (buttonClicked)="onCancel()">
            </kit-button>
            <kit-button
                [label]="'ADD_SERVER.SUBMIT' | translate"
                variant="primary"
                type="submit"
                [disabled]="serverForm.invalid"
                (buttonClicked)="onSubmit()">
            </kit-button>
        </div>
    </form>
</div>
